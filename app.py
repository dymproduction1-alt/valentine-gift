from flask import Flask, render_template, jsonify

app = Flask(__name__)

# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è —Ç–≤–æ—ó—Ö –∫–æ–ª–µ–≥ –∑ Book.ua
colleagues_wishes = {
    "—Å–∞—à–∞": "–°–∞—à–æ, —Ç–∏ —è–∫ —Ç–µ–ø–ª–∏–π –∫–∞–∫–∞–æ —É –¥–æ—â–æ–≤–∏–π –¥–µ–Ω—å ‚Äî –∑ —Ç–æ–±–æ—é –∑–∞–≤–∂–¥–∏ –∑–∞—Ç–∏—à–Ω–æ —Ç–∞ —Å–ø–æ–∫—ñ–π–Ω–æ! –ó—ñ —Å–≤—è—Ç–æ–º! ‚ú®",
    "—ñ—Ä–∞": "–Ü—Ä–æ, –Ω–µ—Ö–∞–π —Ç–≤–æ—î –∂–∏—Ç—Ç—è –±—É–¥–µ —Ç–∞–∫–∏–º –∂–µ –Ω–∞—Å–∏—á–µ–Ω–∏–º —Ç–∞ —è—Å–∫—Ä–∞–≤–∏–º, —è–∫ –∞—Ä–æ–º–∞—Ç —Å–≤—ñ–∂–æ—ó –∫–∞–≤–∏! ‚òï",
    "—é–ª—è 1": "–Æ–ª—é, —Ç–∏ ‚Äî —Å–ø—Ä–∞–≤–∂–Ω—è –æ–∫—Ä–∞—Å–∞ –Ω–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏. –ù–µ—Ö–∞–π –∫–æ–∂–µ–Ω —Ç–≤—ñ–π —Ä–∞–Ω–æ–∫ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –ø–æ—Å–º—ñ—à–∫–∏! üå∏",
    "—é–ª—è 2": "–Æ–ª—é, –±–∞–∂–∞—é —Ç–æ–±—ñ –∑–Ω–∞–π—Ç–∏ —Å–≤–æ—é –æ—Å–æ–±–ª–∏–≤—É —ñ—Å—Ç–æ—Ä—ñ—é —â–∞—Å—Ç—è —Å–µ—Ä–µ–¥ —Ç–∏—Å—è—á —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∂–∏—Ç—Ç—è! üìñ",
    "—Å–æ–Ω—è": "–°–æ—Ñ—ñ—î (–Ω–∞—à–∞ –∑—ñ—Ä–∫–æ!), —Ç–∏ ‚Äî —è–∫ —Ä—ñ–¥–∫—ñ—Å–Ω–∏–π –∞—Ä—Ç-–±—É–∫: —Å—Ç–∏–ª—å–Ω–∞, –Ω–µ–æ—Ä–¥–∏–Ω–∞—Ä–Ω–∞ —ñ –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–æ –∫—Ä—É—Ç–∞! –ù–µ—Ö–∞–π —Ç–≤—ñ–π –≤–∞–π–± –∑–∞—Ä—è–¥–∂–∞—î –≤—Å—ñ—Ö –Ω–∞–≤–∫–æ–ª–æ —â–µ —Å–∏–ª—å–Ω—ñ—à–µ! üé∏üåü",
    "—Ä–µ—Å—è": "–†–µ—Å—é, –Ω–µ—Ö–∞–π —Ü–µ–π –¥–µ–Ω—å –ø—Ä–∏–Ω–µ—Å–µ —Ç–æ–±—ñ —Å—Ç—ñ–ª—å–∫–∏ –∂ —Ä–∞–¥–æ—Å—Ç—ñ, —Å–∫—ñ–ª—å–∫–∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –ø–µ—Ä—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–æ–≤–≥–æ–æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –∫–Ω–∏–≥–∏! ‚ù§Ô∏è",
    "–∫–∞—Ç—è 1": "–ö–∞—Ç—é, —Ç–∏ ‚Äî –º–∞–π—Å—Ç–µ—Ä —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–∞—Å—Ç—Ä—ñ–π! –ù–µ—Ö–∞–π —Ç–≤–æ—î —Å–µ—Ä—Ü–µ –∑–∞–≤–∂–¥–∏ –±'—î—Ç—å—Å—è –≤ —Ä–∏—Ç–º—ñ —â–∞—Å—Ç—è! üíÉ",
    "–∫–∞—Ç—è 2": "–ö–∞—Ç—é, –±–∞–∂–∞—é —Ç–æ–±—ñ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è —É –≤—Å—å–æ–º—É —Ç–∞ —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å—É, —è–∫ —É –Ω–∞–π–∫—Ä–∞—â–æ–º—É —Ä–∞—Ñ—ñ! üçØ",
    "–º–∞—Ä—ñ": "–ú–∞—Ä—ñ, —Ç–∏ –¥–æ–¥–∞—î—à –Ω–∞—à—ñ–π –∫–Ω–∏–≥–∞—Ä–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ–≥–æ —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–æ–≥–æ —à–∞—Ä–º—É. –ë—É–¥—å —â–∞—Å–ª–∏–≤–∞! ü•ê‚ú®",
    "—Ç–∞–Ω—è": "–¢–∞–Ω—é, –Ω–µ—Ö–∞–π —Ç–≤–æ—è –æ—Å–æ–±–∏—Å—Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—è –∫–æ—Ö–∞–Ω–Ω—è –±—É–¥–µ –∫—Ä–∞—â–æ—é –∑–∞ –±—É–¥—å-—è–∫–∏–π –±–µ—Å—Ç—Å–µ–ª–µ—Ä –Ω–∞ –ø–æ–ª–∏—Ü—è—Ö! üíñ",
    "–∞–Ω–¥–∂–µ–ª–∞": "–ê–Ω–¥–∂–µ–ª–æ, —Ç–∏ ‚Äî –Ω–∞—à–µ —Å–≤—ñ—Ç–ª–æ! –ë–∞–∂–∞—é, —â–æ–± –∫–æ–∂–µ–Ω —Ç–≤—ñ–π –¥–µ–Ω—å –±—É–≤ —Å–ø–æ–≤–Ω–µ–Ω–∏–π –º–∞–≥—ñ—ó —Ç–∞ —Ç–µ–ø–ª–∞! üòá",
    "–Ω–∞—Ç–∞—à–∞": "–ù–∞—Ç–∞–ª—é, –Ω–µ—Ö–∞–π —Ç–≤–æ—î –∂–∏—Ç—Ç—è –±—É–¥–µ —Å–æ–ª–æ–¥–∫–∏–º, —è–∫ –Ω–∞–π—Å–º–∞—á–Ω—ñ—à–∏–π –¥–µ—Å–µ—Ä—Ç —É –Ω–∞—à–æ–º—É –º–µ–Ω—é! üç∞",
    "–ª—é–¥–∞": "–õ—é–¥–æ, –±–∞–∂–∞—é —Ç–æ–±—ñ –≥–∞—Ä–º–æ–Ω—ñ—ó, —Å–ø–æ–∫–æ—é —Ç–∞ –±–µ–∑–º–µ–∂–Ω–æ–≥–æ –æ–∫–µ–∞–Ω—É –ø—Ä–∏—î–º–Ω–∏—Ö –≤—Ä–∞–∂–µ–Ω—å! üåä",
    "–ª–µ—Å—è": "–õ–µ—Å—é, —Ç–∏ ‚Äî –¥–∂–µ—Ä–µ–ª–æ –º—É–¥—Ä–æ—Å—Ç—ñ —Ç–∞ –¥–æ–±—Ä–æ—Ç–∏. –ù–µ—Ö–∞–π –¥–æ–ª—è –¥–∞—Ä—É—î —Ç–æ–±—ñ –ª–∏—à–µ –ø—Ä–∏—î–º–Ω—ñ —Å—é—Ä–ø—Ä–∏–∑–∏! üéÅ"
}

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/api/greeting/<name>')
def get_greeting(name):
    # –û—á–∏—â–∞—î–º–æ –≤–≤–µ–¥–µ–Ω–µ —ñ–º'—è
    name_key = name.lower().strip()
    
    # –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ª–æ–≥—ñ–∫–∞, —è–∫—â–æ –¥—ñ–≤—á–∏–Ω–∞ –≤–≤–µ–¥–µ –ø—Ä–æ—Å—Ç–æ "–Æ–ª—è" –∞–±–æ "–ö–∞—Ç—è" –±–µ–∑ —Ü–∏—Ñ—Ä–∏
    if name_key == "—é–ª—è":
        return jsonify({"text": "–£ –Ω–∞—Å –¥–≤—ñ —á—É–¥–æ–≤—ñ –Æ–ª—ñ! –í–≤–µ–¥–∏ '–Æ–ª—è 1' –∞–±–æ '–Æ–ª—è 2', —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤–æ—î –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è üòä"})
    if name_key == "–∫–∞—Ç—è":
        return jsonify({"text": "–£ –Ω–∞—Å –¥–≤—ñ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ñ –ö–∞—Ç—ñ! –í–≤–µ–¥–∏ '–ö–∞—Ç—è 1' –∞–±–æ '–ö–∞—Ç—è 2' –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–æ–Ω—É—Å—É üòä"})

    # –ü–æ—à—É–∫ —É –±–∞–∑—ñ
    prediction = colleagues_wishes.get(name_key)
    
    if prediction:
        return jsonify({"text": prediction})
    else:
        return jsonify({"text": f"{name}, —Ç–∏ —Ä–æ–±–∏—à Book.ua –Ω–∞ –í–î–ù–ì –æ—Å–æ–±–ª–∏–≤–∏–º –º—ñ—Å—Ü–µ–º! –ó—ñ —Å–≤—è—Ç–æ–º 14 –ª—é—Ç–æ–≥–æ! ‚ú®"})

if __name__ == '__main__':
    app.run(debug=True)